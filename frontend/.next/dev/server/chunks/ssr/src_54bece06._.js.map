{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/DELL/Documents/AEGIS/frontend/src/components/ProtectedRoute.tsx"],"sourcesContent":["\"use client\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useEffect } from \"react\";\r\n\r\ninterface ProtectedRouteProps {\r\n    children: React.ReactNode;\r\n    allowedRoles?: string[];\r\n}\r\n\r\nconst ProtectedRoute: React.FC<ProtectedRouteProps> = ({ children, allowedRoles }) => {\r\n    const { user, loading, role } = useAuth();\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        if (!loading && !user) {\r\n            router.push(\"/login\");\r\n        } else if (!loading && user && allowedRoles && !allowedRoles.includes(role || 'student')) {\r\n            // Redirect to unauthorized page if role doesn't match\r\n            router.push(\"/unauthorized\");\r\n        }\r\n    }, [user, loading, role, allowedRoles, router]);\r\n\r\n    if (loading) {\r\n        return <div className=\"flex items-center justify-center min-h-screen\">Loading authentication...</div>;\r\n    }\r\n\r\n    // If check fails, returing null prevents flash of content before redirect executes\r\n    if (!user || (allowedRoles && !allowedRoles.includes(role || 'student'))) {\r\n        return null;\r\n    }\r\n\r\n    return <>{children}</>;\r\n};\r\n\r\nexport default ProtectedRoute;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAHA;;;;;AAUA,MAAM,iBAAgD,CAAC,EAAE,QAAQ,EAAE,YAAY,EAAE;IAC7E,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,IAAA,yIAAO;IACvC,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACN,IAAI,CAAC,WAAW,CAAC,MAAM;YACnB,OAAO,IAAI,CAAC;QAChB,OAAO,IAAI,CAAC,WAAW,QAAQ,gBAAgB,CAAC,aAAa,QAAQ,CAAC,QAAQ,YAAY;YACtF,sDAAsD;YACtD,OAAO,IAAI,CAAC;QAChB;IACJ,GAAG;QAAC;QAAM;QAAS;QAAM;QAAc;KAAO;IAE9C,IAAI,SAAS;QACT,qBAAO,8OAAC;YAAI,WAAU;sBAAgD;;;;;;IAC1E;IAEA,mFAAmF;IACnF,IAAI,CAAC,QAAS,gBAAgB,CAAC,aAAa,QAAQ,CAAC,QAAQ,YAAa;QACtE,OAAO;IACX;IAEA,qBAAO;kBAAG;;AACd;uCAEe"}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///D:/DELL/Documents/AEGIS/frontend/src/components/ui/card.tsx"],"sourcesContent":["\r\nimport * as React from \"react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Card = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div\r\n        ref={ref}\r\n        className={cn(\r\n            \"rounded-lg border bg-card text-card-foreground shadow-sm\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nCard.displayName = \"Card\"\r\n\r\nconst CardHeader = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div\r\n        ref={ref}\r\n        className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\r\n        {...props}\r\n    />\r\n))\r\nCardHeader.displayName = \"CardHeader\"\r\n\r\nconst CardTitle = React.forwardRef<\r\n    HTMLParagraphElement,\r\n    React.HTMLAttributes<HTMLHeadingElement>\r\n>(({ className, ...props }, ref) => (\r\n    <h3\r\n        ref={ref}\r\n        className={cn(\r\n            \"font-semibold leading-none tracking-tight\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nCardTitle.displayName = \"CardTitle\"\r\n\r\nconst CardDescription = React.forwardRef<\r\n    HTMLParagraphElement,\r\n    React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => (\r\n    <p\r\n        ref={ref}\r\n        className={cn(\"text-sm text-muted-foreground\", className)}\r\n        {...props}\r\n    />\r\n))\r\nCardDescription.displayName = \"CardDescription\"\r\n\r\nconst CardContent = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\r\n))\r\nCardContent.displayName = \"CardContent\"\r\n\r\nconst CardFooter = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div\r\n        ref={ref}\r\n        className={cn(\"flex items-center p-6 pt-0\", className)}\r\n        {...props}\r\n    />\r\n))\r\nCardFooter.displayName = \"CardFooter\"\r\n\r\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AACA;AACA;;;;AAEA,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACG,KAAK;QACL,WAAW,IAAA,yHAAE,EACT,4DACA;QAEH,GAAG,KAAK;;;;;;AAGjB,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACG,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGjB,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACG,KAAK;QACL,WAAW,IAAA,yHAAE,EACT,6CACA;QAEH,GAAG,KAAK;;;;;;AAGjB,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACG,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGjB,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,yHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAElE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACG,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGjB,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 142, "column": 0}, "map": {"version":3,"sources":["file:///D:/DELL/Documents/AEGIS/frontend/src/components/ui/skeleton.tsx"],"sourcesContent":["\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Skeleton({\r\n    className,\r\n    ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) {\r\n    return (\r\n        <div\r\n            className={cn(\"animate-pulse rounded-md bg-muted\", className)}\r\n            {...props}\r\n        />\r\n    )\r\n}\r\n\r\nexport { Skeleton }\r\n"],"names":[],"mappings":";;;;;AACA;;;AAEA,SAAS,SAAS,EACd,SAAS,EACT,GAAG,OACgC;IACnC,qBACI,8OAAC;QACG,WAAW,IAAA,yHAAE,EAAC,qCAAqC;QAClD,GAAG,KAAK;;;;;;AAGrB"}},
    {"offset": {"line": 165, "column": 0}, "map": {"version":3,"sources":["file:///D:/DELL/Documents/AEGIS/frontend/src/app/faculty/applications/page.tsx"],"sourcesContent":["\r\n\"use client\";\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport ProtectedRoute from '@/components/ProtectedRoute';\r\nimport { Card, CardHeader, CardTitle, CardContent } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\nimport { FileText, User } from \"lucide-react\";\r\n\r\nexport default function FacultyApplicationsPage() {\r\n    const { user } = useAuth();\r\n    const [applications, setApplications] = useState<any[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const fetchApplications = async () => {\r\n            if (!user) return;\r\n            try {\r\n                const token = await user.getIdToken();\r\n                const response = await fetch(`${process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000/api'}/opportunities/applications`, {\r\n                    headers: { 'Authorization': `Bearer ${token}` }\r\n                });\r\n\r\n                if (!response.ok) throw new Error('Failed to fetch applications');\r\n\r\n                const data = await response.json();\r\n                setApplications(data);\r\n            } catch (error) {\r\n                console.error(error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchApplications();\r\n    }, [user]);\r\n\r\n    const handleStatusUpdate = async (appId: string, status: string) => {\r\n        if (!confirm(`Are you sure you want to mark this application as ${status}?`)) return;\r\n        try {\r\n            const token = await user?.getIdToken();\r\n            const response = await fetch(`${process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000/api'}/opportunities/application/${appId}`, {\r\n                method: 'PATCH',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`\r\n                },\r\n                body: JSON.stringify({ status })\r\n            });\r\n\r\n            if (!response.ok) throw new Error('Failed to update status');\r\n\r\n            // Optimistic update\r\n            setApplications(apps => apps.map(a => a.applicationId === appId ? { ...a, status } : a));\r\n        } catch (error) {\r\n            console.error(error);\r\n            alert('Error updating status');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <ProtectedRoute allowedRoles={['faculty', 'admin']}>\r\n            <div className=\"max-w-6xl mx-auto py-10 space-y-8 animate-in fade-in-50\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold tracking-tight\">Applications Review</h1>\r\n                    <p className=\"text-muted-foreground\">Review student applications for your posted opportunities.</p>\r\n                </div>\r\n\r\n                {loading ? (\r\n                    <div className=\"space-y-4\">\r\n                        {[1, 2, 3].map(i => <Skeleton key={i} className=\"h-32 w-full\" />)}\r\n                    </div>\r\n                ) : applications.length === 0 ? (\r\n                    <Card className=\"text-center p-12 border-dashed\">\r\n                        <div className=\"flex flex-col items-center justify-center text-muted-foreground\">\r\n                            <div className=\"w-12 h-12 bg-muted rounded-full flex items-center justify-center mb-4\">\r\n                                <User className=\"w-6 h-6\" />\r\n                            </div>\r\n                            <h3 className=\"text-lg font-medium text-foreground\">No applications yet</h3>\r\n                            <p>When students apply to your opportunities, they will appear here.</p>\r\n                        </div>\r\n                    </Card>\r\n                ) : (\r\n                    <div className=\"grid gap-4\">\r\n                        {applications.map((app: any) => (\r\n                            <Card key={app.applicationId} className=\"hover:border-primary/50 transition-colors\">\r\n                                <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\r\n                                    <div>\r\n                                        <CardTitle className=\"text-lg font-bold\">{app.opportunityTitle || 'Unknown Opportunity'}</CardTitle>\r\n                                        <p className=\"text-sm text-muted-foreground\">Applicant ID: {app.studentId}</p>\r\n                                    </div>\r\n                                    <Badge variant={app.status === 'Submitted' ? 'default' : app.status === 'Shortlisted' ? 'secondary' : 'outline'}>{app.status}</Badge>\r\n                                </CardHeader>\r\n                                <CardContent>\r\n                                    <div className=\"grid md:grid-cols-2 gap-4\">\r\n                                        <div className=\"bg-muted/30 p-4 rounded-md\">\r\n                                            <h4 className=\"text-sm font-semibold mb-2\">Cover Letter</h4>\r\n                                            <p className=\"text-sm text-muted-foreground whitespace-pre-wrap line-clamp-4\">{app.coverLetter || 'No cover letter provided.'}</p>\r\n                                        </div>\r\n                                        <div className=\"flex flex-col justify-center items-center bg-muted/30 p-4 rounded-md gap-4\">\r\n                                            <FileText className=\"w-8 h-8 text-primary\" />\r\n                                            <Button variant=\"outline\" asChild>\r\n                                                <a href={app.resumeUrl} target=\"_blank\" rel=\"noopener noreferrer\">View Resume</a>\r\n                                            </Button>\r\n                                        </div>\r\n                                    </div>\r\n                                    {app.status === 'Submitted' && (\r\n                                        <div className=\"flex justify-end gap-2 mt-4 pt-4 border-t\">\r\n                                            <Button variant=\"outline\" size=\"sm\" onClick={() => handleStatusUpdate(app.applicationId, 'Rejected')} className=\"text-destructive hover:bg-destructive/10 border-destructive/20\">Reject</Button>\r\n                                            <Button size=\"sm\" onClick={() => handleStatusUpdate(app.applicationId, 'Shortlisted')}>Shortlist</Button>\r\n                                        </div>\r\n                                    )}\r\n                                    {app.status === 'Shortlisted' && (\r\n                                        <div className=\"flex justify-end gap-2 mt-4 pt-4 border-t\">\r\n                                            <Button variant=\"outline\" size=\"sm\" onClick={() => handleStatusUpdate(app.applicationId, 'Rejected')} className=\"text-destructive\">Reject</Button>\r\n                                            <Button size=\"sm\" onClick={() => handleStatusUpdate(app.applicationId, 'Accepted')} className=\"bg-green-600 hover:bg-green-700\">Accept</Button>\r\n                                        </div>\r\n                                    )}\r\n                                </CardContent>\r\n                            </Card>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </ProtectedRoute>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}