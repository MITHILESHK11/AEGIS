(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,11870,e=>{"use strict";var s=e.i(43476),t=e.i(32341),i=e.i(18566),r=e.i(71645);e.s(["default",0,({children:e,allowedRoles:l})=>{let{user:a,loading:c,role:o}=(0,t.useAuth)(),d=(0,i.useRouter)();return((0,r.useEffect)(()=>{c||a?!c&&a&&l&&!l.includes(o||"student")&&d.push("/unauthorized"):d.push("/login")},[a,c,o,l,d]),c)?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:"Loading authentication..."}):a&&(!l||l.includes(o||"student"))?(0,s.jsx)(s.Fragment,{children:e}):null}])},3116,e=>{"use strict";let s=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>s],3116)},69638,e=>{"use strict";let s=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>s],69638)},63059,e=>{"use strict";let s=(0,e.i(75254).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>s],63059)},87130,e=>{"use strict";let s=(0,e.i(75254).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);e.s(["Filter",()=>s],87130)},61653,e=>{"use strict";let s=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["default",()=>s])},63209,e=>{"use strict";var s=e.i(61653);e.s(["AlertCircle",()=>s.default])},41336,e=>{"use strict";var s=e.i(43476),t=e.i(22016),i=e.i(87486),r=e.i(63209),l=e.i(3116),a=e.i(69638),c=e.i(25652),o=e.i(78583),d=e.i(87130),n=e.i(63059),h=e.i(98919),x=e.i(71645),m=e.i(32341);let g=({title:e,value:t,icon:i,color:r,bgColor:l})=>(0,s.jsxs)("div",{className:"aegis-card p-6 hover:-translate-y-1 transition-transform duration-300",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,s.jsx)("div",{className:`p-3 rounded-xl ${l} ${r} border border-white/5`,children:(0,s.jsx)(i,{className:"w-6 h-6"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-slate-400 mb-1",children:e}),(0,s.jsx)("div",{className:"text-3xl font-bold tracking-tight text-white",children:t})]})]}),u=({status:e,count:t,total:i,color:r,trackColor:l})=>{let a=i>0?Math.round(t/i*100):0;return(0,s.jsxs)("div",{className:"p-5 border border-white/10 rounded-2xl bg-white/5 backdrop-blur-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:e}),(0,s.jsx)("span",{className:"text-2xl font-black text-white",children:t})]}),(0,s.jsx)("div",{className:`w-full ${l||"bg-white/10"} rounded-full h-2 overflow-hidden mb-2`,children:(0,s.jsx)("div",{className:`h-full ${r} transition-all duration-1000 ease-out rounded-full shadow-[0_0_10px_rgba(0,0,0,0.3)]`,style:{width:`${a}%`}})}),(0,s.jsxs)("p",{className:"text-[10px] font-bold text-slate-500 text-right",children:[a,"% of total"]})]})};e.s(["AuthorityDashboard",0,()=>{let{user:e}=(0,m.useAuth)(),[b,j]=(0,x.useState)({total:0,pending:0,inProgress:0,resolved:0,highPriority:0,byCategory:{}}),[v,p]=(0,x.useState)(!0);return(0,x.useEffect)(()=>{(async()=>{if(e)try{let s=await e.getIdToken(),t=await fetch("http://localhost:5000/api/grievances/stats",{headers:{Authorization:`Bearer ${s}`}});if(!t.ok)throw Error("Failed to fetch stats");let i=await t.json();j(i)}catch(e){console.error("Error fetching stats:",e)}finally{p(!1)}})()},[e]),(0,s.jsxs)("div",{className:"space-y-8 animate-in fade-in-50 duration-500 pb-10",children:[(0,s.jsxs)("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-rose-900 to-slate-900 p-8 shadow-2xl border border-white/5",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 p-10 opacity-10",children:(0,s.jsx)(h.Shield,{className:"w-64 h-64 text-white"})}),(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold tracking-tight text-white mb-2",children:"Authority Command Center"}),(0,s.jsx)("p",{className:"text-slate-300 max-w-xl text-lg",children:"Monitor campus grievances, prioritize critical issues, and manage resolution workflows."})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,s.jsx)(g,{title:"Total Grievances",value:v?"...":b.total,icon:o.FileText,color:"text-blue-400",bgColor:"bg-blue-500/10"}),(0,s.jsx)(g,{title:"Pending Review",value:v?"...":b.pending,icon:l.Clock,color:"text-amber-400",bgColor:"bg-amber-500/10"}),(0,s.jsx)(g,{title:"In Progress",value:v?"...":b.inProgress||0,icon:c.TrendingUp,color:"text-indigo-400",bgColor:"bg-indigo-500/10"}),(0,s.jsx)(g,{title:"Resolved Cases",value:v?"...":b.resolved,icon:a.CheckCircle,color:"text-emerald-400",bgColor:"bg-emerald-500/10"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{className:"aegis-card p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,s.jsx)("div",{className:"p-2 bg-primary/20 rounded-lg border border-primary/20",children:(0,s.jsx)(r.AlertCircle,{className:"w-5 h-5 text-primary"})}),(0,s.jsx)("h3",{className:"text-xl font-bold text-white",children:"Resolution Center"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(t.default,{href:"/authority/grievances?status=Submitted",className:"block group",children:(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all cursor-pointer group-hover:translate-x-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-amber-500/10 text-amber-400",children:(0,s.jsx)(l.Clock,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{className:"font-semibold text-white",children:["Review Pending (",b.pending,")"]}),(0,s.jsx)("p",{className:"text-xs text-slate-400",children:"Cases awaiting initial assessment"})]})]}),(0,s.jsx)(n.ChevronRight,{className:"w-5 h-5 text-slate-500 group-hover:text-white transition-colors"})]})}),(0,s.jsx)(t.default,{href:"/authority/grievances?priority=High",className:"block group",children:(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all cursor-pointer group-hover:translate-x-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-rose-500/10 text-rose-400",children:(0,s.jsx)(r.AlertCircle,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-white",children:"High Priority Issues"}),(0,s.jsx)("p",{className:"text-xs text-slate-400",children:"Critical grievances requiring immediate action"})]})]}),(0,s.jsx)(n.ChevronRight,{className:"w-5 h-5 text-slate-500 group-hover:text-white transition-colors"})]})}),(0,s.jsx)(t.default,{href:"/authority/grievances",className:"block group",children:(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all cursor-pointer group-hover:translate-x-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-blue-500/10 text-blue-400",children:(0,s.jsx)(o.FileText,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-white",children:"Full Case History"}),(0,s.jsx)("p",{className:"text-xs text-slate-400",children:"Access archive of all grievances"})]})]}),(0,s.jsx)(n.ChevronRight,{className:"w-5 h-5 text-slate-500 group-hover:text-white transition-colors"})]})})]})]}),(0,s.jsxs)("div",{className:"aegis-card p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,s.jsx)("div",{className:"p-2 bg-indigo-500/10 rounded-lg border border-indigo-500/20",children:(0,s.jsx)(d.Filter,{className:"w-5 h-5 text-indigo-400"})}),(0,s.jsx)("h3",{className:"text-xl font-bold text-white",children:"Impact Areas"})]}),(0,s.jsx)("div",{className:"space-y-2",children:b.byCategory&&Object.entries(b.byCategory).length>0?Object.entries(b.byCategory).map(([e,t])=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-xl bg-white/5 hover:bg-white/10 transition-colors border border-white/5",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-slate-200",children:e}),(0,s.jsx)(i.Badge,{variant:"outline",className:"font-bold border-white/20 text-white bg-white/5",children:t})]},e)):(0,s.jsxs)("div",{className:"text-center py-10",children:[(0,s.jsx)(r.AlertCircle,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),(0,s.jsx)("p",{className:"text-sm text-slate-500",children:"No active grievances in categories"})]})})]})]}),(0,s.jsxs)("div",{className:"aegis-card p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,s.jsx)("div",{className:"p-2 bg-emerald-500/10 rounded-lg border border-emerald-500/20",children:(0,s.jsx)(c.TrendingUp,{className:"w-5 h-5 text-emerald-400"})}),(0,s.jsx)("h3",{className:"text-xl font-bold text-white",children:"Workflow Health"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsx)(u,{status:"Pending",count:b.pending,total:b.total,color:"bg-amber-500",trackColor:"bg-amber-500/20"}),(0,s.jsx)(u,{status:"In Progress",count:b.inProgress||0,total:b.total,color:"bg-indigo-500",trackColor:"bg-indigo-500/20"}),(0,s.jsx)(u,{status:"Resolved",count:b.resolved,total:b.total,color:"bg-emerald-500",trackColor:"bg-emerald-500/20"})]})]})]})}])},24690,e=>{"use strict";var s=e.i(43476),t=e.i(11870),i=e.i(41336);function r(){return(0,s.jsx)(t.default,{allowedRoles:["authority","admin"],children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto py-10 space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Authority Dashboard"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Manage and oversee all campus grievances."})]}),(0,s.jsx)(i.AuthorityDashboard,{})]})})}e.s(["default",()=>r])}]);