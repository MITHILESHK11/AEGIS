(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,11870,e=>{"use strict";var t=e.i(43476),s=e.i(32341),i=e.i(18566),l=e.i(71645);e.s(["default",0,({children:e,allowedRoles:r})=>{let{user:a,loading:d,role:c}=(0,s.useAuth)(),o=(0,i.useRouter)();return((0,l.useEffect)(()=>{d||a?!d&&a&&r&&!r.includes(c||"student")&&o.push("/unauthorized"):o.push("/login")},[a,d,c,r,o]),d)?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:"Loading authentication..."}):a&&(!r||r.includes(c||"student"))?(0,t.jsx)(t.Fragment,{children:e}):null}])},2747,e=>{"use strict";var t=e.i(43476),s=e.i(75157);function i({className:e,...i}){return(0,t.jsx)("div",{className:(0,s.cn)("animate-pulse rounded-md bg-muted",e),...i})}e.s(["Skeleton",()=>i])},3116,e=>{"use strict";let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],3116)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},83323,e=>{"use strict";e.i(47167);var t=e.i(43476),s=e.i(71645),i=e.i(32341),l=e.i(11870),r=e.i(87486),a=e.i(19455),d=e.i(2747),c=e.i(63727),o=e.i(3116),n=e.i(69638);let x=(0,e.i(75254).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var h=e.i(22016);function m(){let{user:e}=(0,i.useAuth)(),[m,u]=(0,s.useState)([]),[p,f]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{(async()=>{if(e)try{let t=await e.getIdToken(),s=await fetch("http://localhost:5000/api/opportunities/my-applications",{headers:{Authorization:`Bearer ${t}`}});if(!s.ok)throw Error("Failed to fetch applications");let i=await s.json();u(i)}catch(e){console.error(e)}finally{f(!1)}})()},[e]),(0,t.jsx)(l.default,{allowedRoles:["student"],children:(0,t.jsxs)("div",{className:"max-w-5xl mx-auto py-10 space-y-8 animate-in fade-in-50",children:[(0,t.jsxs)("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-indigo-900 to-purple-900 p-8 shadow-2xl border border-white/5",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-10 opacity-10",children:(0,t.jsx)(c.Briefcase,{className:"w-64 h-64 text-white"})}),(0,t.jsxs)("div",{className:"relative z-10 flex flex-col md:flex-row justify-between md:items-end gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-indigo-500/20 rounded-lg border border-indigo-500/20 backdrop-blur-sm",children:(0,t.jsx)(c.Briefcase,{className:"w-6 h-6 text-indigo-400"})}),(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"My Applications"})]}),(0,t.jsx)("p",{className:"text-slate-300 max-w-xl text-lg",children:"Track the status of your internship and research applications."})]}),(0,t.jsx)(h.default,{href:"/opportunities",children:(0,t.jsx)(a.Button,{className:"bg-indigo-600 hover:bg-indigo-700 text-white border-none shadow-lg shadow-indigo-500/20 text-lg py-6 px-8 rounded-xl w-full md:w-auto",children:"Browse More"})})]})]}),p?(0,t.jsx)("div",{className:"space-y-4",children:[1,2].map(e=>(0,t.jsx)(d.Skeleton,{className:"h-32 w-full bg-white/5 rounded-2xl"},e))}):0===m.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center aegis-card",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-white/5 flex items-center justify-center mb-6 border border-white/10",children:(0,t.jsx)(c.Briefcase,{className:"w-8 h-8 text-slate-500"})}),(0,t.jsx)("h3",{className:"text-xl font-medium text-white mb-2",children:"No applications yet"}),(0,t.jsx)("p",{className:"text-slate-400 mb-6 max-w-sm",children:"Start applying to opportunities to see them here."}),(0,t.jsx)(h.default,{href:"/opportunities",children:(0,t.jsx)(a.Button,{variant:"outline",className:"border-indigo-500/30 text-indigo-400 hover:bg-indigo-500/10 hover:text-indigo-300",children:"Browse Opportunities"})})]}):(0,t.jsx)("div",{className:"grid gap-4",children:m.map(e=>(0,t.jsxs)("div",{className:"aegis-card p-6 group hover:border-indigo-500/30 transition-all duration-300 relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,t.jsx)("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-start gap-6",children:(0,t.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between md:justify-start gap-4 mb-1",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white group-hover:text-indigo-300 transition-colors",children:e.opportunityTitle}),(e=>{switch(e){case"Submitted":return(0,t.jsxs)("div",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-yellow-500/10 text-yellow-400 border border-yellow-500/20 flex items-center gap-1.5",children:[(0,t.jsx)(o.Clock,{className:"w-3 h-3"})," Submitted"]});case"Shortlisted":return(0,t.jsxs)("div",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-blue-500/10 text-blue-400 border border-blue-500/20 flex items-center gap-1.5",children:[(0,t.jsx)(n.CheckCircle,{className:"w-3 h-3"})," Shortlisted"]});case"Accepted":return(0,t.jsxs)("div",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-emerald-500/10 text-emerald-400 border border-emerald-500/20 flex items-center gap-1.5",children:[(0,t.jsx)(n.CheckCircle,{className:"w-3 h-3"})," Accepted"]});case"Rejected":return(0,t.jsxs)("div",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-red-500/10 text-red-400 border border-red-500/20 flex items-center gap-1.5",children:[(0,t.jsx)(x,{className:"w-3 h-3"})," Rejected"]});default:return(0,t.jsx)(r.Badge,{variant:"outline",className:"border-white/10 text-slate-400",children:e})}})(e.status)]}),(0,t.jsxs)("p",{className:"text-sm text-slate-500 flex items-center gap-2",children:[(0,t.jsx)(o.Clock,{className:"w-3 h-3"}),"Applied on: ",e.appliedAt?._seconds?new Date(1e3*e.appliedAt._seconds).toLocaleDateString():"N/A"]}),(0,t.jsxs)("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5 text-sm mt-3",children:[(0,t.jsx)("p",{className:"font-semibold text-slate-300 mb-1",children:"Cover Letter Note:"}),(0,t.jsxs)("p",{className:"text-slate-400 line-clamp-2 italic",children:['"',e.coverLetter||"No cover letter submitted.",'"']})]})]})})]},e.applicationId))})]})})}e.s(["default",()=>m],83323)}]);