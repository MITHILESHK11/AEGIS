(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,11870,e=>{"use strict";var t=e.i(43476),s=e.i(32341),a=e.i(18566),l=e.i(71645);e.s(["default",0,({children:e,allowedRoles:i})=>{let{user:r,loading:d,role:n}=(0,s.useAuth)(),c=(0,a.useRouter)();return((0,l.useEffect)(()=>{d||r?!d&&r&&i&&!i.includes(n||"student")&&c.push("/unauthorized"):c.push("/login")},[r,d,n,i,c]),d)?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:"Loading authentication..."}):r&&(!i||i.includes(n||"student"))?(0,t.jsx)(t.Fragment,{children:e}):null}])},2747,e=>{"use strict";var t=e.i(43476),s=e.i(75157);function a({className:e,...a}){return(0,t.jsx)("div",{className:(0,s.cn)("animate-pulse rounded-md bg-muted",e),...a})}e.s(["Skeleton",()=>a])},61911,e=>{"use strict";let t=(0,e.i(75254).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["Users",()=>t],61911)},84774,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(75157);let l=s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("div",{className:"w-full overflow-auto",children:(0,t.jsx)("table",{ref:l,className:(0,a.cn)("w-full caption-bottom text-sm",e),...s})}));l.displayName="Table";let i=s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("thead",{ref:l,className:(0,a.cn)("[&_tr]:border-b",e),...s}));i.displayName="TableHeader";let r=s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("tbody",{ref:l,className:(0,a.cn)("[&_tr:last-child]:border-0",e),...s}));r.displayName="TableBody",s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("tfoot",{ref:l,className:(0,a.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";let d=s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("tr",{ref:l,className:(0,a.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));d.displayName="TableRow";let n=s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("th",{ref:l,className:(0,a.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...s}));n.displayName="TableHead";let c=s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("td",{ref:l,className:(0,a.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...s}));c.displayName="TableCell",s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("caption",{ref:l,className:(0,a.cn)("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption",e.s(["Table",()=>l,"TableBody",()=>r,"TableCell",()=>c,"TableHead",()=>n,"TableHeader",()=>i,"TableRow",()=>d])},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},53844,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(22016),l=e.i(32341),i=e.i(11870),r=e.i(84774),d=e.i(87486),n=e.i(19455),c=e.i(2747),o=e.i(63727),x=e.i(61911),h=e.i(7233);function m(){let{user:e}=(0,l.useAuth)(),[m,u]=(0,s.useState)([]),[p,b]=(0,s.useState)(!0),f=async()=>{if(e)try{let t=await e.getIdToken(),s=await fetch(`http://localhost:5000/api/opportunities/list?facultyId=${e.uid}`,{headers:{Authorization:`Bearer ${t}`}});if(!s.ok)throw Error("Failed to fetch opportunities");let a=await s.json();u(a)}catch(e){console.error(e)}finally{b(!1)}};(0,s.useEffect)(()=>{f()},[e]);let j=e=>!!e?._seconds&&new Date(1e3*e._seconds)<new Date;return(0,t.jsx)(i.default,{allowedRoles:["faculty","admin"],children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto py-10 space-y-8 animate-in fade-in-50",children:[(0,t.jsxs)("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-blue-950 via-indigo-950 to-slate-900 p-8 shadow-2xl border border-white/5",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-10 opacity-10",children:(0,t.jsx)(o.Briefcase,{className:"w-64 h-64 text-white"})}),(0,t.jsxs)("div",{className:"relative z-10 flex justify-between items-end",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-500/20 rounded-lg border border-blue-500/20 backdrop-blur-sm",children:(0,t.jsx)(o.Briefcase,{className:"w-6 h-6 text-blue-400"})}),(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"My Opportunities"})]}),(0,t.jsx)("p",{className:"text-slate-300 max-w-xl text-lg",children:"Manage the research and internship opportunities you've posted."})]}),(0,t.jsx)(a.default,{href:"/faculty/opportunities",children:(0,t.jsxs)(n.Button,{className:"bg-blue-600 hover:bg-blue-700 text-white border-none shadow-lg shadow-blue-500/20",children:[(0,t.jsx)(h.Plus,{className:"w-4 h-4 mr-2"}),"Post New Opportunity"]})})]})]}),(0,t.jsxs)("div",{className:"aegis-card overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/5 flex items-center justify-between",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,t.jsx)(o.Briefcase,{className:"w-5 h-5 text-slate-400"}),"Posted Opportunities"]}),(0,t.jsxs)(d.Badge,{variant:"outline",className:"border-white/10 text-slate-400",children:["Total: ",m.length]})]}),(0,t.jsx)("div",{className:"p-0",children:p?(0,t.jsx)("div",{className:"p-6 space-y-4",children:[1,2,3].map(e=>(0,t.jsx)(c.Skeleton,{className:"h-16 w-full bg-white/5 rounded-xl"},e))}):0===m.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-white/5 flex items-center justify-center mb-4",children:(0,t.jsx)(o.Briefcase,{className:"w-8 h-8 text-slate-500"})}),(0,t.jsx)("h3",{className:"text-xl font-medium text-white mb-2",children:"No opportunities posted yet"}),(0,t.jsx)("p",{className:"text-slate-400 max-w-sm mb-6",children:"Create your first opportunity to start accepting applications."}),(0,t.jsx)(a.default,{href:"/faculty/opportunities",children:(0,t.jsx)(n.Button,{variant:"outline",className:"border-blue-500/30 text-blue-400 hover:bg-blue-500/10 hover:text-blue-300",children:"Post Your First Opportunity"})})]}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(r.Table,{children:[(0,t.jsx)(r.TableHeader,{className:"bg-white/5 border-b border-white/10",children:(0,t.jsxs)(r.TableRow,{className:"border-none hover:bg-transparent",children:[(0,t.jsx)(r.TableHead,{className:"text-slate-300 font-semibold pl-6",children:"Title"}),(0,t.jsx)(r.TableHead,{className:"text-slate-300 font-semibold",children:"Status"}),(0,t.jsx)(r.TableHead,{className:"text-slate-300 font-semibold",children:"Applicants"}),(0,t.jsx)(r.TableHead,{className:"text-slate-300 font-semibold",children:"Deadline"}),(0,t.jsx)(r.TableHead,{className:"text-slate-300 font-semibold",children:"Posted On"}),(0,t.jsx)(r.TableHead,{className:"text-right text-slate-300 font-semibold pr-6",children:"Actions"})]})}),(0,t.jsx)(r.TableBody,{children:m.map(e=>(0,t.jsxs)(r.TableRow,{className:"border-b border-white/5 hover:bg-white/5 transition-colors group",children:[(0,t.jsx)(r.TableCell,{className:"pl-6",children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"font-medium text-white group-hover:text-blue-300 transition-colors",children:e.title}),(0,t.jsx)("span",{className:"text-xs text-slate-500 line-clamp-1 max-w-[200px]",children:e.description})]})}),(0,t.jsx)(r.TableCell,{children:(0,t.jsx)(d.Badge,{variant:"outline",className:`${"Open"===e.status?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":"bg-slate-500/10 text-slate-400 border-slate-500/20"} px-2 py-0.5 rounded text-xs font-semibold uppercase tracking-wider`,children:e.status})}),(0,t.jsx)(r.TableCell,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,t.jsx)(x.Users,{className:"w-4 h-4 text-slate-500"}),(0,t.jsx)("span",{className:"font-medium",children:e.applicantCount||0})]})}),(0,t.jsx)(r.TableCell,{children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:`text-sm ${j(e.applicationDeadline)?"text-red-400":"text-slate-300"}`,children:e.applicationDeadline?._seconds?new Date(1e3*e.applicationDeadline._seconds).toLocaleDateString():"N/A"}),j(e.applicationDeadline)&&(0,t.jsx)("span",{className:"text-[10px] text-red-500 font-semibold uppercase tracking-wide",children:"Expired"})]})}),(0,t.jsx)(r.TableCell,{className:"text-sm text-slate-500",children:e.createdAt?._seconds?new Date(1e3*e.createdAt._seconds).toLocaleDateString():"N/A"}),(0,t.jsx)(r.TableCell,{className:"text-right pr-6",children:(0,t.jsx)("div",{className:"flex justify-end gap-2",children:(0,t.jsx)(a.default,{href:`/faculty/applications?opportunityId=${e.opportunityId}`,children:(0,t.jsxs)(n.Button,{variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white hover:bg-white/10",title:"View Applications",children:[(0,t.jsx)(x.Users,{className:"w-4 h-4 mr-2"}),"Details"]})})})})]},e.opportunityId))})]})})})]})]})})}e.s(["default",()=>m])}]);