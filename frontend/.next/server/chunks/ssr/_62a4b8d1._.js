module.exports=[95174,a=>{"use strict";let b=(0,a.i(70106).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["default",()=>b])},50522,a=>{"use strict";let b=(0,a.i(70106).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],50522)},89531,a=>{"use strict";var b=a.i(87924),c=a.i(56025),d=a.i(50944),e=a.i(72131);a.s(["default",0,({children:a,allowedRoles:f})=>{let{user:g,loading:h,role:i}=(0,c.useAuth)(),j=(0,d.useRouter)();return((0,e.useEffect)(()=>{h||g?!h&&g&&f&&!f.includes(i||"student")&&j.push("/unauthorized"):j.push("/login")},[g,h,i,f,j]),h)?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:"Loading authentication..."}):g&&(!f||f.includes(i||"student"))?(0,b.jsx)(b.Fragment,{children:a}):null}])},41710,a=>{"use strict";let b=(0,a.i(70106).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>b],41710)},16201,a=>{"use strict";let b=(0,a.i(70106).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},90669,a=>{"use strict";let b=(0,a.i(70106).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);a.s(["Activity",()=>b],90669)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},44893,a=>{"use strict";var b=a.i(95174);a.s(["CircleAlert",()=>b.default])},48889,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(56025),f=a.i(89531),g=a.i(99570),h=a.i(86304),i=a.i(15618);let j=(0,a.i(70106).default)("sliders-horizontal",[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]]);var k=a.i(44893),l=a.i(41710),m=a.i(16201),n=a.i(4720),o=a.i(50522),p=a.i(90669);function q(){let{user:a}=(0,e.useAuth)(),[q,r]=(0,c.useState)([]),[s,t]=(0,c.useState)(!0),[u,v]=(0,c.useState)("All");return(0,c.useEffect)(()=>{(async()=>{if(a)try{let b=await a.getIdToken(),c="All"!==u?`?status=${u}`:"",d=await fetch(`http://localhost:5000/api/grievances/list${c}`,{headers:{Authorization:`Bearer ${b}`}});if(!d.ok)throw Error("Failed to fetch grievances");let e=await d.json();r(e)}catch(a){console.error(a)}finally{t(!1)}})()},[a,u]),(0,b.jsx)(f.default,{allowedRoles:["student","authority","admin"],children:(0,b.jsxs)("div",{className:"max-w-5xl mx-auto py-10 space-y-8 animate-in fade-in-50",children:[(0,b.jsxs)("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-indigo-50 to-slate-50 p-8 shadow-2xl border border-slate-200",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 p-10 opacity-10",children:(0,b.jsx)(n.FileText,{className:"w-64 h-64 text-slate-900"})}),(0,b.jsxs)("div",{className:"relative z-10 flex flex-col md:flex-row justify-between md:items-end gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-indigo-500/10 rounded-lg border border-indigo-200 backdrop-blur-sm",children:(0,b.jsx)(n.FileText,{className:"w-6 h-6 text-indigo-600"})}),(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-slate-900",children:"My Grievances"})]}),(0,b.jsx)("p",{className:"text-slate-600 max-w-xl text-lg",children:"Track the status of your reported issues and view resolution updates."})]}),(0,b.jsx)(d.default,{href:"/grievances/submit",children:(0,b.jsxs)(g.Button,{className:"bg-indigo-600 hover:bg-indigo-700 text-white border-none shadow-lg shadow-indigo-500/20 text-lg py-6 px-8 rounded-xl w-full md:w-auto",children:[(0,b.jsx)(i.Plus,{className:"mr-2 w-5 h-5"}),"New Grievance"]})})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2 overflow-x-auto pb-4 scrollbar-hide",children:[(0,b.jsx)("div",{className:"p-2 bg-slate-100 rounded-full border border-slate-200 mr-2",children:(0,b.jsx)(j,{className:"w-4 h-4 text-slate-500"})}),["All","Submitted","Review","In Progress","Resolved"].map(a=>(0,b.jsx)(g.Button,{variant:u===a?"default":"ghost",size:"sm",onClick:()=>v(a),className:`rounded-full px-4 border transition-all duration-300 ${u===a?"bg-indigo-600 border-indigo-500 text-white shadow-lg shadow-indigo-500/20":"bg-white/5 border-white/10 text-slate-400 hover:bg-white/10 hover:text-white"}`,children:a},a))]}),s?(0,b.jsx)("div",{className:"space-y-4",children:[1,2,3].map(a=>(0,b.jsxs)("div",{className:"aegis-card p-6 h-32 animate-pulse flex flex-col justify-center gap-3 bg-white border border-slate-200 shadow-sm rounded-xl",children:[(0,b.jsx)("div",{className:"h-5 bg-slate-200 rounded w-1/4"}),(0,b.jsx)("div",{className:"h-4 bg-slate-100 rounded w-3/4"})]},a))}):0===q.length?(0,b.jsx)("div",{className:"aegis-card p-12 text-center border-dashed border-2 border-slate-200 bg-transparent shadow-none rounded-xl",children:(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center text-slate-400",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mb-6 border border-slate-100",children:(0,b.jsx)(n.FileText,{className:"w-8 h-8 opacity-50 text-slate-400"})}),(0,b.jsx)("h3",{className:"text-xl font-medium text-slate-900 mb-2",children:"No grievances found"}),(0,b.jsx)("p",{className:"mb-6 max-w-sm mx-auto text-slate-500",children:"You haven't submitted any grievances yet. If you're facing an issue on campus, let us know."}),(0,b.jsx)(d.default,{href:"/grievances/submit",children:(0,b.jsx)(g.Button,{variant:"outline",className:"border-indigo-500/30 text-indigo-400 hover:bg-indigo-500/10 hover:text-indigo-300",children:"Submit your first grievance"})})]})}):(0,b.jsx)("div",{className:"grid gap-4",children:q.map(a=>(0,b.jsx)(d.default,{href:`/grievances/${a.grievanceId}`,children:(0,b.jsxs)("div",{className:"aegis-card p-6 group hover:border-indigo-300 transition-all duration-300 relative overflow-hidden bg-white border border-slate-200 shadow-sm rounded-xl",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,b.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 relative z-10",children:[(0,b.jsxs)("div",{className:"space-y-3 flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 text-xs md:text-sm text-slate-500",children:[(0,b.jsxs)("span",{className:"font-mono bg-slate-50 px-2 py-1 rounded border border-slate-200 text-slate-600",children:["#",a.grievanceId.slice(0,8)]}),(0,b.jsx)("span",{className:"w-1 h-1 rounded-full bg-slate-400"}),(0,b.jsx)("span",{children:a.createdAt?._seconds?new Date(100*a.createdAt._seconds).toLocaleDateString():"Just now"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"text-lg md:text-xl font-semibold text-slate-900 group-hover:text-indigo-600 transition-colors mb-1",children:[a.category," Issue at ",a.location]}),(0,b.jsx)("p",{className:"text-slate-600 line-clamp-1 max-w-3xl",children:a.description})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between w-full md:w-auto gap-4",children:[(a=>{switch(a){case"Resolved":return(0,b.jsxs)(h.Badge,{variant:"outline",className:"border-emerald-500/20 bg-emerald-500/10 text-emerald-400 flex items-center gap-1.5",children:[(0,b.jsx)(m.CheckCircle,{className:"w-3 h-3"}),"Resolved"]});case"In Progress":return(0,b.jsxs)(h.Badge,{variant:"outline",className:"border-blue-500/20 bg-blue-500/10 text-blue-400 flex items-center gap-1.5",children:[(0,b.jsx)(p.Activity,{className:"w-3 h-3 animate-pulse"}),"In Progress"]});case"Review":return(0,b.jsxs)(h.Badge,{variant:"outline",className:"border-yellow-500/20 bg-yellow-500/10 text-yellow-400 flex items-center gap-1.5",children:[(0,b.jsx)(k.CircleAlert,{className:"w-3 h-3"}),"Review"]});default:return(0,b.jsxs)(h.Badge,{variant:"outline",className:"border-slate-500/20 bg-slate-500/10 text-slate-400 flex items-center gap-1.5",children:[(0,b.jsx)(l.Clock,{className:"w-3 h-3"}),"Submitted"]})}})(a.status),(0,b.jsx)("div",{className:"bg-slate-50 p-2 rounded-full group-hover:bg-indigo-50 group-hover:text-indigo-600 transition-all border border-slate-100",children:(0,b.jsx)(o.ChevronRight,{className:"w-5 h-5 text-slate-400 group-hover:translate-x-0.5 transition-transform"})})]})]})]})},a.grievanceId))})]})})}a.s(["default",()=>q],48889)}];

//# sourceMappingURL=_62a4b8d1._.js.map