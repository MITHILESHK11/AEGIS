module.exports=[89531,a=>{"use strict";var b=a.i(87924),c=a.i(56025),d=a.i(50944),e=a.i(72131);a.s(["default",0,({children:a,allowedRoles:f})=>{let{user:g,loading:h,role:i}=(0,c.useAuth)(),j=(0,d.useRouter)();return((0,e.useEffect)(()=>{h||g?!h&&g&&f&&!f.includes(i||"student")&&j.push("/unauthorized"):j.push("/login")},[g,h,i,f,j]),h)?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:"Loading authentication..."}):g&&(!f||f.includes(i||"student"))?(0,b.jsx)(b.Fragment,{children:a}):null}])},27960,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("div",{className:(0,c.cn)("animate-pulse rounded-md bg-muted",a),...d})}a.s(["Skeleton",()=>d])},91119,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c}));j.displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardFooter",()=>j,"CardHeader",()=>f,"CardTitle",()=>g])},9448,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(56025),e=a.i(89531),f=a.i(91119),g=a.i(86304),h=a.i(99570),i=a.i(27960),j=a.i(4720),k=a.i(46842);function l(){let{user:a}=(0,d.useAuth)(),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(!0);(0,c.useEffect)(()=>{(async()=>{if(a)try{let b=await a.getIdToken(),c=await fetch("http://localhost:5000/api/opportunities/applications",{headers:{Authorization:`Bearer ${b}`}});if(!c.ok)throw Error("Failed to fetch applications");let d=await c.json();m(d)}catch(a){console.error(a)}finally{o(!1)}})()},[a]);let p=async(b,c)=>{if(confirm(`Are you sure you want to mark this application as ${c}?`))try{let d=await a?.getIdToken();if(!(await fetch(`http://localhost:5000/api/opportunities/application/${b}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify({status:c})})).ok)throw Error("Failed to update status");m(a=>a.map(a=>a.applicationId===b?{...a,status:c}:a))}catch(a){console.error(a),alert("Error updating status")}};return(0,b.jsx)(e.default,{allowedRoles:["faculty","admin"],children:(0,b.jsxs)("div",{className:"max-w-6xl mx-auto py-10 space-y-8 animate-in fade-in-50",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Applications Review"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Review student applications for your posted opportunities."})]}),n?(0,b.jsx)("div",{className:"space-y-4",children:[1,2,3].map(a=>(0,b.jsx)(i.Skeleton,{className:"h-32 w-full"},a))}):0===l.length?(0,b.jsx)(f.Card,{className:"text-center p-12 border-dashed",children:(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center text-muted-foreground",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-muted rounded-full flex items-center justify-center mb-4",children:(0,b.jsx)(k.User,{className:"w-6 h-6"})}),(0,b.jsx)("h3",{className:"text-lg font-medium text-foreground",children:"No applications yet"}),(0,b.jsx)("p",{children:"When students apply to your opportunities, they will appear here."})]})}):(0,b.jsx)("div",{className:"grid gap-4",children:l.map(a=>(0,b.jsxs)(f.Card,{className:"hover:border-primary/50 transition-colors",children:[(0,b.jsxs)(f.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(f.CardTitle,{className:"text-lg font-bold",children:a.opportunityTitle||"Unknown Opportunity"}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Applicant ID: ",a.studentId]})]}),(0,b.jsx)(g.Badge,{variant:"Submitted"===a.status?"default":"Shortlisted"===a.status?"secondary":"outline",children:a.status})]}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"bg-muted/30 p-4 rounded-md",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold mb-2",children:"Cover Letter"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap line-clamp-4",children:a.coverLetter||"No cover letter provided."})]}),(0,b.jsxs)("div",{className:"flex flex-col justify-center items-center bg-muted/30 p-4 rounded-md gap-4",children:[(0,b.jsx)(j.FileText,{className:"w-8 h-8 text-primary"}),(0,b.jsx)(h.Button,{variant:"outline",asChild:!0,children:(0,b.jsx)("a",{href:a.resumeUrl,target:"_blank",rel:"noopener noreferrer",children:"View Resume"})})]})]}),"Submitted"===a.status&&(0,b.jsxs)("div",{className:"flex justify-end gap-2 mt-4 pt-4 border-t",children:[(0,b.jsx)(h.Button,{variant:"outline",size:"sm",onClick:()=>p(a.applicationId,"Rejected"),className:"text-destructive hover:bg-destructive/10 border-destructive/20",children:"Reject"}),(0,b.jsx)(h.Button,{size:"sm",onClick:()=>p(a.applicationId,"Shortlisted"),children:"Shortlist"})]}),"Shortlisted"===a.status&&(0,b.jsxs)("div",{className:"flex justify-end gap-2 mt-4 pt-4 border-t",children:[(0,b.jsx)(h.Button,{variant:"outline",size:"sm",onClick:()=>p(a.applicationId,"Rejected"),className:"text-destructive",children:"Reject"}),(0,b.jsx)(h.Button,{size:"sm",onClick:()=>p(a.applicationId,"Accepted"),className:"bg-green-600 hover:bg-green-700",children:"Accept"})]})]})]},a.applicationId))})]})})}a.s(["default",()=>l])}];

//# sourceMappingURL=src_bc434327._.js.map