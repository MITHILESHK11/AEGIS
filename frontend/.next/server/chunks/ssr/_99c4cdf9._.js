module.exports=[91119,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c}));j.displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardFooter",()=>j,"CardHeader",()=>f,"CardTitle",()=>g])},17371,a=>{"use strict";let b=(0,a.i(70106).default)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);a.s(["UserPlus",()=>b],17371)},55606,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);a.i(30485);var e=a.i(31052),f=a.i(20237),g=a.i(38246),h=a.i(56025),i=a.i(99570),j=a.i(66718),k=a.i(91119),l=a.i(17371),m=a.i(96221);function n(){let[a,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)("student"),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(!1),y=(0,d.useRouter)(),{user:z}=(0,h.useAuth)(),A=async b=>{b.preventDefault(),v(""),x(!0);try{let b=(await (0,e.createUserWithEmailAndPassword)(f.auth,a,o)).user;await (0,e.updateProfile)(b,{displayName:s});let c=await b.getIdToken(),d=await fetch("http://localhost:5000/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify({email:b.email,role:q,displayName:s})});if(!d.ok){let a=await d.json();throw Error(a.error||"Failed to create user profile in backend")}await b.getIdToken(!0),y.push("/dashboard")}catch(a){console.error(a),v(a.message||"Failed to register."),"auth/email-already-in-use"===a.code?v("Email is already in use."):"auth/operation-not-allowed"===a.code&&v("Email/Password login is not enabled in Firebase Console.")}finally{x(!1)}};return(0,b.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-muted/40 p-4",children:(0,b.jsxs)(k.Card,{className:"w-full max-w-md shadow-lg border-primary/10",children:[(0,b.jsxs)(k.CardHeader,{className:"space-y-1 items-center text-center",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-primary rounded-lg flex items-center justify-center mb-4 text-primary-foreground shadow-lg shadow-primary/20",children:(0,b.jsx)(l.UserPlus,{className:"w-6 h-6"})}),(0,b.jsx)(k.CardTitle,{className:"text-2xl font-bold",children:"Create an account"}),(0,b.jsx)(k.CardDescription,{children:"Join AEGIS+ to manage your campus life"})]}),(0,b.jsx)(k.CardContent,{children:(0,b.jsxs)("form",{onSubmit:A,className:"space-y-4",children:[u&&(0,b.jsx)("div",{className:"p-3 rounded-md bg-destructive/10 text-destructive text-sm font-medium text-center animate-in fade-in-50",children:u}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium leading-none",htmlFor:"name",children:"Full Name"}),(0,b.jsx)(j.Input,{id:"name",type:"text",placeholder:"John Doe",value:s,onChange:a=>t(a.target.value),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium leading-none",htmlFor:"email",children:"Email"}),(0,b.jsx)(j.Input,{id:"email",type:"email",placeholder:"m@example.com",value:a,onChange:a=>n(a.target.value),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium leading-none",htmlFor:"role",children:"I am a..."}),(0,b.jsxs)("select",{id:"role",value:q,onChange:a=>r(a.target.value),className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",children:[(0,b.jsx)("option",{value:"student",children:"Student"}),(0,b.jsx)("option",{value:"faculty",children:"Faculty"}),(0,b.jsx)("option",{value:"authority",children:"Authority"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium leading-none",htmlFor:"password",children:"Password"}),(0,b.jsx)(j.Input,{id:"password",type:"password",value:o,onChange:a=>p(a.target.value),required:!0})]}),(0,b.jsx)(i.Button,{type:"submit",className:"w-full",disabled:w,children:w?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create Account"})]})}),(0,b.jsx)(k.CardFooter,{className:"flex flex-col space-y-2 text-center text-sm text-muted-foreground",children:(0,b.jsxs)("div",{children:["Already have an account?"," ",(0,b.jsx)(g.default,{href:"/login",className:"text-primary hover:underline font-medium",children:"Sign in"})]})})]})})}a.s(["default",()=>n])}];

//# sourceMappingURL=_99c4cdf9._.js.map