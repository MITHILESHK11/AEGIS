module.exports=[89531,a=>{"use strict";var b=a.i(87924),c=a.i(56025),d=a.i(50944),e=a.i(72131);a.s(["default",0,({children:a,allowedRoles:f})=>{let{user:g,loading:h,role:i}=(0,c.useAuth)(),j=(0,d.useRouter)();return((0,e.useEffect)(()=>{h||g?!h&&g&&f&&!f.includes(i||"student")&&j.push("/unauthorized"):j.push("/login")},[g,h,i,f,j]),h)?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:"Loading authentication..."}):g&&(!f||f.includes(i||"student"))?(0,b.jsx)(b.Fragment,{children:a}):null}])},27960,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("div",{className:(0,c.cn)("animate-pulse rounded-md bg-muted",a),...d})}a.s(["Skeleton",()=>d])},91119,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c}));j.displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardFooter",()=>j,"CardHeader",()=>f,"CardTitle",()=>g])},69012,a=>{"use strict";let b=(0,a.i(70106).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);a.s(["Filter",()=>b],69012)},87532,a=>{"use strict";let b=(0,a.i(70106).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],87532)},84505,a=>{"use strict";let b=(0,a.i(70106).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);a.s(["Download",()=>b],84505)},65346,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(56025),e=a.i(89531),f=a.i(99570),g=a.i(66718),h=a.i(86304),i=a.i(91119),j=a.i(27960),k=a.i(87532),l=a.i(69012),m=a.i(84505),n=a.i(4720),o=a.i(70106);let p=(0,o.default)("file",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]]),q=(0,o.default)("file-code",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]]);function r(){let{user:a}=(0,d.useAuth)(),[o,r]=(0,c.useState)([]),[s,t]=(0,c.useState)(!0),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)("All");return(0,c.useEffect)(()=>{let b=setTimeout(async()=>{if(a)try{let b=await a.getIdToken(),c="http://localhost:5000/api/academic/list",d=new URLSearchParams;"All"!==w&&d.append("type",w),u.match(/^[A-Z]{2,4}\d{3,4}$/i)&&d.append("courseId",u.toUpperCase()),d.toString()&&(c+=`?${d.toString()}`);let e=await fetch(c,{headers:{Authorization:`Bearer ${b}`}});if(!e.ok)throw Error("Failed to fetch resources");let f=await e.json();if(u&&!d.has("courseId")){let a=u.toLowerCase();f=f.filter(b=>b.title.toLowerCase().includes(a)||b.description.toLowerCase().includes(a)||b.courseId.toLowerCase().includes(a)||b.tags&&b.tags.some(b=>b.toLowerCase().includes(a)))}r(f)}catch(a){console.error(a)}finally{t(!1)}},500);return()=>clearTimeout(b)},[a,u,w]),(0,b.jsx)(e.default,{allowedRoles:["student","faculty","admin"],children:(0,b.jsxs)("div",{className:"max-w-6xl mx-auto py-10 space-y-8 animate-in fade-in-50",children:[(0,b.jsx)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Academic Resources"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Access course materials, notes, and past papers."})]})}),(0,b.jsx)(i.Card,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[(0,b.jsxs)("div",{className:"relative flex-1 w-full",children:[(0,b.jsx)(k.Search,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(g.Input,{type:"search",placeholder:"Search by title, course code (e.g. CS101), or tags...",className:"pl-9 w-full",value:u,onChange:a=>v(a.target.value)})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[(0,b.jsx)(l.Filter,{className:"w-4 h-4 text-muted-foreground"}),(0,b.jsxs)("select",{value:w,onChange:a=>x(a.target.value),className:"h-9 w-full md:w-[180px] rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",children:[(0,b.jsx)("option",{value:"All",children:"All Types"}),(0,b.jsx)("option",{value:"Notes",children:"Notes"}),(0,b.jsx)("option",{value:"Paper",children:"Papers"}),(0,b.jsx)("option",{value:"Slides",children:"Slides"}),(0,b.jsx)("option",{value:"Assignment",children:"Assignments"})]})]})]})}),s?(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(a=>(0,b.jsxs)(i.Card,{className:"h-[250px] flex flex-col justify-between",children:[(0,b.jsx)(i.CardHeader,{children:(0,b.jsx)(j.Skeleton,{className:"h-6 w-3/4"})}),(0,b.jsx)(i.CardContent,{children:(0,b.jsx)(j.Skeleton,{className:"h-20 w-full"})}),(0,b.jsx)(i.CardFooter,{children:(0,b.jsx)(j.Skeleton,{className:"h-10 w-full"})})]},a))}):0===o.length?(0,b.jsxs)("div",{className:"text-center py-20 px-4",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(k.Search,{className:"w-8 h-8 text-muted-foreground"})}),(0,b.jsx)("h3",{className:"text-lg font-medium",children:"No resources found"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Try adjusting your search or filters."})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(a=>(0,b.jsxs)(i.Card,{className:"flex flex-col h-full hover:shadow-lg transition-all duration-300 hover:border-primary/50 group",children:[(0,b.jsxs)(i.CardHeader,{className:"pb-3",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,b.jsx)(h.Badge,{variant:"outline",className:"font-mono",children:a.courseId}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground uppercase tracking-wider font-semibold flex items-center gap-1",children:[(a=>{switch(a.toLowerCase()){case"slides":return(0,b.jsx)(n.FileText,{className:"w-5 h-5 text-orange-500"});case"paper":return(0,b.jsx)(p,{className:"w-5 h-5 text-blue-500"});case"assignment":return(0,b.jsx)(q,{className:"w-5 h-5 text-purple-500"});default:return(0,b.jsx)(n.FileText,{className:"w-5 h-5 text-gray-500"})}})(a.resourceType)," ",a.resourceType]})]}),(0,b.jsx)(i.CardTitle,{className:"line-clamp-1",children:a.title})]}),(0,b.jsxs)(i.CardContent,{className:"flex-1 pb-3",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-3 mb-4",children:a.description}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1.5",children:a.tags?.map(a=>(0,b.jsxs)(h.Badge,{variant:"secondary",className:"text-[10px] px-1.5 py-0",children:["#",a]},a))})]}),(0,b.jsx)(i.CardFooter,{className:"pt-3 border-t bg-muted/20",children:(0,b.jsx)(f.Button,{className:"w-full",variant:"secondary",asChild:!0,children:(0,b.jsxs)("a",{href:a.fileUrl,target:"_blank",rel:"noopener noreferrer",children:[(0,b.jsx)(m.Download,{className:"mr-2 w-4 h-4"})," Download"]})})})]},a.resourceId))})]})})}a.s(["default",()=>r],65346)}];

//# sourceMappingURL=_267a914a._.js.map