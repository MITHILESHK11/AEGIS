module.exports=[89531,a=>{"use strict";var b=a.i(87924),c=a.i(56025),d=a.i(50944),e=a.i(72131);a.s(["default",0,({children:a,allowedRoles:f})=>{let{user:g,loading:h,role:i}=(0,c.useAuth)(),j=(0,d.useRouter)();return((0,e.useEffect)(()=>{h||g?!h&&g&&f&&!f.includes(i||"student")&&j.push("/unauthorized"):j.push("/login")},[g,h,i,f,j]),h)?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:"Loading authentication..."}):g&&(!f||f.includes(i||"student"))?(0,b.jsx)(b.Fragment,{children:a}):null}])},60246,a=>{"use strict";let b=(0,a.i(70106).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);a.s(["Users",()=>b],60246)},83604,a=>{"use strict";let b=(0,a.i(70106).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["default",()=>b])},18685,a=>{"use strict";var b=a.i(83604);a.s(["TriangleAlert",()=>b.default])},1906,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(56025),e=a.i(89531),f=a.i(86304),g=a.i(24669),h=a.i(60246),i=a.i(3314),j=a.i(41961),k=a.i(4720),l=a.i(18685);let m=({title:a,value:c,icon:d,color:e,bgColor:f})=>(0,b.jsxs)("div",{className:"aegis-card p-6 flex items-start justify-between group hover:border-slate-300 transition-all duration-300 bg-white border border-slate-200 shadow-sm rounded-xl",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-slate-500 mb-1",children:a}),(0,b.jsx)("div",{className:"text-3xl font-bold text-slate-900 group-hover:text-primary transition-colors",children:c})]}),(0,b.jsx)("div",{className:`p-3 rounded-xl ${f} border border-slate-100`,children:(0,b.jsx)(d,{className:`w-6 h-6 ${e}`})})]});function n(){let{user:a}=(0,d.useAuth)(),[n,o]=(0,c.useState)({users:{total:0,byRole:{},registrationTrend:[]},grievances:{total:0,byCategory:{},byStatus:{},avgResolutionTime:0},opportunities:{total:0,applications:0,acceptanceRate:0},resources:{total:0,downloads:0,byCourse:{}}}),[p,q]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{(async()=>{if(a)try{let b=await a.getIdToken(),c=await fetch("http://localhost:5000/api/admin/analytics",{headers:{Authorization:`Bearer ${b}`}});if(!c.ok)throw Error("Failed to fetch analytics");let d=await c.json();o(d)}catch(a){console.error(a),o(a=>({...a,users:{...a.users,total:120,byRole:{student:80,faculty:30,admin:10}},grievances:{...a.grievances,total:15,avgResolutionTime:2.5}}))}finally{q(!1)}})()},[a]),p)?(0,b.jsxs)("div",{className:"max-w-7xl mx-auto py-10 space-y-8 animate-in fade-in-50",children:[(0,b.jsx)("div",{className:"h-48 w-full bg-white/5 rounded-3xl animate-pulse"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[1,2,3,4].map(a=>(0,b.jsx)("div",{className:"h-32 bg-white/5 rounded-2xl animate-pulse"},a))})]}):(0,b.jsx)(e.default,{allowedRoles:["admin"],children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto py-10 space-y-8 animate-in fade-in-50",children:[(0,b.jsxs)("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-indigo-50 via-purple-50 to-slate-50 p-8 shadow-2xl border border-slate-200",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 p-10 opacity-10",children:(0,b.jsx)(g.TrendingUp,{className:"w-64 h-64 text-slate-900"})}),(0,b.jsxs)("div",{className:"relative z-10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("div",{className:"p-2 bg-indigo-500/10 rounded-lg border border-indigo-200 backdrop-blur-sm",children:(0,b.jsx)(g.TrendingUp,{className:"w-6 h-6 text-indigo-600"})}),(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-slate-900",children:"Platform Analytics"})]}),(0,b.jsx)("p",{className:"text-slate-600 max-w-xl text-lg",children:"Comprehensive insights into platform usage, grievances, opportunities, and resource engagement."})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("h2",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[(0,b.jsx)(h.Users,{className:"w-5 h-5 text-blue-500"}),"User Overview"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,b.jsx)(m,{title:"Total Users",value:n.users.total,icon:h.Users,color:"text-blue-600",bgColor:"bg-blue-50"}),Object.entries(n.users.byRole).map(([a,c])=>(0,b.jsx)(m,{title:`${a.charAt(0).toUpperCase()+a.slice(1)}s`,value:c,icon:h.Users,color:"text-purple-600",bgColor:"bg-purple-50"},a))]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,b.jsxs)("div",{className:"aegis-card p-6 space-y-6 bg-white border border-slate-200 shadow-sm rounded-xl",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("div",{className:"p-2 bg-rose-50 rounded-lg border border-rose-200",children:(0,b.jsx)(i.Shield,{className:"w-5 h-5 text-rose-600"})}),(0,b.jsx)("h3",{className:"text-xl font-bold text-slate-900",children:"Grievance Stats"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"p-4 rounded-xl bg-slate-50 border border-slate-100",children:[(0,b.jsx)("p",{className:"text-sm text-slate-500 mb-1",children:"Total Grievances"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:n.grievances.total})]}),(0,b.jsxs)("div",{className:"p-4 rounded-xl bg-slate-50 border border-slate-100",children:[(0,b.jsx)("p",{className:"text-sm text-slate-500 mb-1",children:"Avg Resolution"}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-emerald-600",children:[n.grievances.avgResolutionTime," days"]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold text-slate-700 mb-3 text-sm uppercase tracking-wider",children:"By Status"}),(0,b.jsx)("div",{className:"space-y-3",children:Object.entries(n.grievances.byStatus).map(([a,c])=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-slate-50 border border-slate-100 hover:bg-slate-100 transition-colors",children:[(0,b.jsx)("span",{className:"font-medium text-slate-900",children:a}),(0,b.jsx)(f.Badge,{variant:"secondary",className:"bg-white text-slate-600 border-slate-200 shadow-sm",children:c})]},a))})]})]}),(0,b.jsxs)("div",{className:"aegis-card p-6 space-y-6 bg-white border border-slate-200 shadow-sm rounded-xl",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("div",{className:"p-2 bg-orange-50 rounded-lg border border-orange-200",children:(0,b.jsx)(l.TriangleAlert,{className:"w-5 h-5 text-orange-600"})}),(0,b.jsx)("h3",{className:"text-xl font-bold text-slate-900",children:"Grievance Categories"})]}),(0,b.jsx)("div",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:Object.entries(n.grievances.byCategory).map(([a,c])=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-slate-50 border border-slate-100 hover:bg-slate-100 transition-colors",children:[(0,b.jsx)("span",{className:"font-medium text-slate-900",children:a}),(0,b.jsx)(f.Badge,{variant:"secondary",className:"bg-white text-slate-600 border-slate-200 shadow-sm",children:c})]},a))})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,b.jsxs)("div",{className:"aegis-card p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("div",{className:"p-2 bg-blue-500/10 rounded-lg border border-blue-500/20",children:(0,b.jsx)(j.Briefcase,{className:"w-5 h-5 text-blue-400"})}),(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:"Opportunities"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5 text-center",children:[(0,b.jsx)("p",{className:"text-sm text-slate-400 mb-1",children:"Total"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:n.opportunities.total})]}),(0,b.jsxs)("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5 text-center",children:[(0,b.jsx)("p",{className:"text-sm text-slate-400 mb-1",children:"Apps"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:n.opportunities.applications})]}),(0,b.jsxs)("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5 text-center",children:[(0,b.jsx)("p",{className:"text-sm text-slate-400 mb-1",children:"Accept Rate"}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-emerald-400",children:[n.opportunities.acceptanceRate,"%"]})]})]})]}),(0,b.jsxs)("div",{className:"aegis-card p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("div",{className:"p-2 bg-emerald-500/10 rounded-lg border border-emerald-500/20",children:(0,b.jsx)(k.FileText,{className:"w-5 h-5 text-emerald-400"})}),(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:"Resources"})]}),(0,b.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,b.jsxs)("div",{className:"flex-1 p-4 rounded-xl bg-white/5 border border-white/5",children:[(0,b.jsx)("p",{className:"text-sm text-slate-400 mb-1",children:"Total Files"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:n.resources.total})]}),(0,b.jsxs)("div",{className:"flex-1 p-4 rounded-xl bg-white/5 border border-white/5",children:[(0,b.jsx)("p",{className:"text-sm text-slate-400 mb-1",children:"Total Downloads"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-blue-400",children:n.resources.downloads})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold text-slate-300 mb-3 text-sm uppercase tracking-wider",children:"Top Courses"}),(0,b.jsx)("div",{className:"space-y-2 max-h-[150px] overflow-y-auto pr-2 custom-scrollbar",children:Object.entries(n.resources.byCourse).map(([a,c])=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-white/5 transition-colors",children:[(0,b.jsx)("span",{className:"text-sm text-slate-300 truncate max-w-[200px]",children:a}),(0,b.jsxs)("span",{className:"text-xs font-mono text-slate-500",children:[c," files"]})]},a))})]})]})]})]})})}a.s(["default",()=>n])}];

//# sourceMappingURL=_458d643c._.js.map